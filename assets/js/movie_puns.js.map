{"version":3,"file":"movie_puns.js","sources":["../../_scripts/movie_puns.js"],"sourcesContent":["(function () {\n    const searchBox = document.querySelector('.search-box');\n    searchBox.addEventListener('keyup', function (event) {\n        if (event.keyCode === 13) {\n            // Cancel the default action, if needed\n            event.preventDefault();\n            // Trigger the button element with a click\n            const query = event.target.value.toLowerCase();\n            getRhymes(query)\n\n        }\n    })\n\n    const getRhymes = query => {\n        const url = `https://willp.herokuapp.com/puns/${query}`\n\n        fetch(url)\n            .then(res => res.json())\n            .then(data => {\n\n                const searchResults = document.querySelector('.search-results');\n                searchResults.addEventListener('click', function (event) {\n                    if (event.target.className === 'movie-container') {\n                        event.target.classList.toggle('favorite');\n                    }\n                    else if (event.target.className === 'movie-edited-title') {\n                        event.target.parentElement.classList.toggle('favorite');\n                    }\n                })\n                searchResults.innerHTML = '';\n                const noResults = document.querySelectorAll('.movie-no-results');\n                Array.from(noResults).forEach((div) => div.remove());\n                if (!data.length) {\n                    const body = document.querySelector('body');\n                    const noResults = document.createElement('div');\n                    noResults.className = 'movie-no-results';\n                    noResults.textContent = 'No Results :(';\n                    body.append(noResults);\n                } else {\n                    const frag = document.createDocumentFragment();\n                    const sort = (a, b) => {\n                        if (a.votes == b.votes) {\n                            return b.word.length - a.word.length\n                        } else {\n                            return b.votes - a.votes\n                        }\n                    }\n                    const titles = [];\n                    const filter = a => {\n                        if (!titles.includes(a.title)) {\n                            titles.push(a.title);\n                            return true\n                        } else {\n                            return false\n                        }\n                    }\n                    data.sort(sort).filter(filter).forEach(movie => {\n                        const movieContainer = document.createElement('div');\n                        movieContainer.className = 'movie-container';\n                        const editedTitle = document.createElement('div');\n                        editedTitle.className = 'movie-edited-title';\n                        editedTitle.textContent = movie.edited_title;\n                        movieContainer.append(editedTitle);\n                        frag.appendChild(movieContainer);\n                    })\n                    searchResults.appendChild(frag.cloneNode(true))\n                }\n\n            })\n    }\n\n})();"],"names":["searchBox","document","querySelector","addEventListener","event","keyCode","preventDefault","query","target","value","toLowerCase","getRhymes","url","fetch","then","res","json","data","searchResults","className","classList","toggle","parentElement","innerHTML","noResults","querySelectorAll","Array","from","forEach","div","remove","length","body","createElement","textContent","append","frag","createDocumentFragment","sort","a","b","votes","word","titles","filter","includes","title","push","movie","movieContainer","editedTitle","edited_title","appendChild","cloneNode"],"mappings":"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"}