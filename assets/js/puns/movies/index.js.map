{"version":3,"file":"index.js","sources":["../../../../_scripts/puns/movies/dom.js","../../../../_scripts/puns/movies/api.js","../../../../_scripts/puns/movies/index.js"],"sourcesContent":["const clearResults = () => {\n  const searchResults = document.querySelector('.search-results');\n  searchResults.innerHTML = '';\n  const noResults = document.querySelectorAll('.movie-no-results');\n  Array.from(noResults).forEach((div) => div.remove());\n};\n\nconst createResults = (data) => {\n  const frag = document.createDocumentFragment();\n  const sort = (a, b) => {\n    if (a.votes === b.votes) {\n      return b.word.length - a.word.length;\n    }\n    return b.votes - a.votes;\n  };\n  const titles = [];\n  const filter = (a) => {\n    if (!titles.includes(a.title)) {\n      titles.push(a.title);\n      return true;\n    }\n    return false;\n  };\n  data.sort(sort).filter(filter).forEach((movie) => {\n    const movieContainer = document.createElement('div');\n    movieContainer.className = 'movie-container';\n    const editedTitle = document.createElement('div');\n    editedTitle.className = 'movie-edited-title';\n    editedTitle.textContent = movie.edited_title;\n    movieContainer.append(editedTitle);\n    frag.appendChild(movieContainer);\n  });\n  return frag;\n};\n\nconst displayResults = (frag) => {\n  const searchResults = document.querySelector('.search-results');\n  searchResults.appendChild(frag.cloneNode(true));\n};\n\nconst displayNoResults = () => {\n  const body = document.querySelector('body');\n  const noResults = document.createElement('div');\n  noResults.className = 'movie-no-results';\n  noResults.textContent = 'No Results :(';\n  body.append(noResults);\n};\n\nconst createEventListeners = () => {\n  const searchResults = document.querySelector('.search-results');\n  searchResults.addEventListener('click', (event) => {\n    if (event.target.className === 'movie-container') {\n      event.target.classList.toggle('favorite');\n    } else if (event.target.className === 'movie-edited-title') {\n      event.target.parentElement.classList.toggle('favorite');\n    }\n  });\n};\n\nexport {\n  createEventListeners, clearResults, displayNoResults, createResults, displayResults,\n};\n","import {\n  createEventListeners, clearResults, displayNoResults, createResults, displayResults,\n} from './dom';\n\nexport default (query) => {\n  const url = `https://willp.herokuapp.com/puns/${query}`;\n\n  fetch(url)\n    .then((res) => res.json())\n    .then((data) => {\n      createEventListeners();\n      if (!data.length) {\n        clearResults();\n        displayNoResults();\n      } else {\n        const results = createResults(data);\n        displayResults(results);\n      }\n    });\n};\n","import getRhymes from './api';\n\n(function main() {\n  const searchBox = document.querySelector('.search-box');\n  searchBox.addEventListener('keyup', (event) => {\n    if (event.keyCode === 13) {\n      // Cancel the default action, if needed\n      event.preventDefault();\n      // Trigger the button element with a click\n      const query = event.target.value.toLowerCase();\n      getRhymes(query);\n    }\n  });\n}());\n"],"names":["clearResults","searchResults","document","querySelector","innerHTML","noResults","querySelectorAll","Array","from","forEach","div","remove","createResults","data","frag","createDocumentFragment","sort","a","b","votes","word","length","titles","filter","includes","title","push","movie","movieContainer","createElement","className","editedTitle","textContent","edited_title","append","appendChild","displayResults","cloneNode","displayNoResults","body","createEventListeners","addEventListener","event","target","classList","toggle","parentElement","query","url","fetch","then","res","json","results","main","searchBox","keyCode","preventDefault","value","toLowerCase","getRhymes"],"mappings":"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"}